
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Saya</title>
    <style>

    </style>



</head>
    <link rel="stylesheet" href="styles.css">
<body>
    <!-- Video Modal -->
    <div class="modal" id="videoModal">
        <div class="modal-content">
            <button class="close-modal" id="closeVideoModal">&times;</button>
            <video class="modal-video" id="expandedVideo" controls autoplay loop></video>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="modal" id="imageModal">
        <div class="modal-content">
            <button class="close-modal" id="closeImageModal">&times;</button>
            <div class="protection-layer"></div>
            <img class="modal-image" id="expandedImage" src="" alt="Expanded Image">
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <header>

            <nav class="navbar">
              <a href="#home">Home</a>
              <a href="#about">About</a>
              <a href="#gallery">Gallery</a>
              <a href="#raport">Report</a>
              <a href="#contact">Contact</a>
            </nav>
            <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
        </header>

        <section class="welcome" id="home">
            <h1>Halo!</h1>
            <h1>Selamat Datang di Web Saya!</h1>
        </section>

        <!-- About Me Section -->
        <section class="about" id="about">
            <div class="about-image" id="profile-image">
               
            </div>
            <div class="about-content">
                <h1>About Me</h1>
                <p>Halo! Nama saya Dini, seorang mahasiswa Teknik Informatika di Universitas Riau (Unri). </p>
                <p>Web ini akan saya gunakan untuk menunjukkan hobi saya (menggambar) dan juga hal yang saya pelajari sebagai mahasiswa TI :)</p>
            </div>
        </section>

        <!-- Gallery Section -->
        <section class="gallery" id="gallery">
            <h1>Gallery</h1>
            <h3>Gambar</h3>
            <div class="gallery-grid">
                <div class="gallery-item lazy-image" data-src="./assets/graphic.jpg">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.png">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.bmp">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.gif">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.svg">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.webp">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.heic">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.psd">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/graphic.tif">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
                <div class="gallery-item lazy-image" data-src="./assets/raw.dng">
                    <div class="protection-layer"></div>
                    <div class="expand-icon"></div>
                </div>
            </div>
        </section>

        <!-- Video Section -->
        <section class="video-section">
            <h3>Video</h3>
            <div class="video-grid">
                <div class="video-item lazy-video" data-src="./assets/green.mp4">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">MP4</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.mov">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">MOV</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.webm">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">webm</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.avi">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">AVI</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.3gp">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">3GP</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.mkv">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">MKV</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.flv">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">FLV</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.mpeg">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">MPG</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.wmv">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">WMV</div>
                </div>
                <div class="video-item lazy-video" data-src="./assets/green.avchd.mts">
                    <div class="protection-layer"></div>
                    <div class="play-icon"></div>
                    <div class="video-info">AVCHD</div>
                </div>
            </div>
        </section>
        
        <!-- Header Items Section -->
        <section class="header-section">
            <h3>Fonts</h3>
            <div class="header-item">
                <h3 id="T1">Helvetica</h3>
                <p id="D1">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T2">Roboto</h3>
                <p id="D2">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T3">Times New Roman</h3>
                <p id="D3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T4">Georgia</h3>
                <p id="D4">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T5">Bodoni</h3>
                <p id="D5">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T6">Garamond</h3>
                <p id="D6">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T7">Baskerville</h3>
                <p id="D7">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T8">Verdana</h3>
                <p id="D8">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T9">Futura</h3>
                <p id="D9">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
            <div class="header-item">
                <h3 id="T10">Rockwell</h3>
                <p id="D10">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla quam velit, vulputate eu pharetra nec, mattis ac neque. Duis vulputate commodo lectus, ac blandit elit tincidunt id.</p>
            </div>
        </section>
        

        <section class="audio-section">
            <h3>Audio</h3>
                <p>MP3</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.mp3">
                </audio>
                <p>M4A</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.m4a">
                </audio>
                <p>FLAC</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.flac">
                </audio>
                <p>OGG</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.ogg">
                </audio>
                <p>WAV</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.wav">
                </audio>
                <p>AAC</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.aac">
                </audio>
                <p>PCM</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.pcm">
                </audio>
                <p>AIFF</p>
                <audio controls loop>
                    <source src="./assets/sampleaudio.aiff">
                </audio>
                <p>ALAC</p>
                <audio controls loop>
                    <source src="./assets/sample.alac">
                </audio>
                <p>MP4</p>
                <audio controls loop>
                    <source src="./assets/sample.mp4">
                </audio>
            </section>
        
            <section class="video-section">
                <h3>Animation</h3>
                <div class="video-grid">
                    <div class="video-item lazy-video" data-src="./assets/shortanimation.mp4">
                        <div class="protection-layer"></div>
                        <div class="play-icon"></div>
                        <div class="video-info">Frame Animation</div>
                    </div>
                </div>
            </section>

        <section class="raport" id="raport">
            <h1>Report</h1>
            <a href="./assets/Laporan_Hafizah Dini Aqila.pdf">Laporan Hafizah Dini Aqila</a>
        </section>

        <!-- Contact Section -->
        <section class="contact" id="contact">
            <h1>Contact</h1>
            <a href="https://www.instagram.com/hfzh.aqila/">Instagram</a>
        </section>
    </div>

    <footer style="border-top: 1px; border-color: #656D73;">
        <div><h4 style="font-size: 12px; text-align: center; padding: 5px;">Hafizah Dini Aqila</h3></div>
    </footer>

    <script>

        function toggleMenu() {
        const nav = document.querySelector("nav");
        nav.classList.toggle("show");
        }

        document.addEventListener("DOMContentLoaded", function() {
                      
            // Variables for video modal
            const videoModal = document.getElementById('videoModal');
            const expandedVideo = document.getElementById('expandedVideo');
            const closeVideoModal = document.getElementById('closeVideoModal');
            
            // Variables for image modal
            const imageModal = document.getElementById('imageModal');
            const expandedImage = document.getElementById('expandedImage');
            const closeImageModal = document.getElementById('closeImageModal');
            
            // Set up click event for each video item
            document.querySelectorAll('.video-item').forEach(item => {
            item.addEventListener('click', function() {
                // Get video source
                const videoSrc = this.getAttribute('data-src');
                
                // Set video source in modal
                expandedVideo.src = videoSrc;
                
                // Show modal with animation
                videoModal.style.display = 'flex';
                
                // Force reflow to ensure animation plays
                void videoModal.offsetWidth;
                
                // Add active class (triggers animation)
                videoModal.classList.add('active');
                
                // Play video
                expandedVideo.play();
            });
        });
            
            // Set up click event for each gallery item
            document.querySelectorAll('.gallery-item').forEach(item => {
                item.addEventListener('click', function() {
                    // Get image source
                    const imageSrc = this.getAttribute('data-src');
                    
                    // Set image source in modal
                    expandedImage.src = imageSrc;
                    
                    // Show modal with animation
                    imageModal.style.display = 'flex';
                    
                    // Force reflow to ensure animation plays
                    void imageModal.offsetWidth;
                    
                    // Add active class (triggers animation)
                    imageModal.classList.add('active');
                });


                const imageSrc = item.getAttribute('data-src');
                const fileExt = imageSrc.split('.').pop().toUpperCase();
                
                // Buat tombol download
                const downloadBtn = document.createElement('button');
                downloadBtn.className = 'download-img-btn';
                downloadBtn.textContent = `Download ${fileExt}`;
                downloadBtn.setAttribute('data-src', imageSrc);
                
                // Tambahkan ke item galeri
                item.appendChild(downloadBtn);
                
                // Event listener dengan perbaikan untuk mobile
                downloadBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    
                    const imgSrc = this.getAttribute('data-src');
                    const link = document.createElement('a');
                    link.href = imgSrc;
                    link.download = imgSrc.substring(imgSrc.lastIndexOf('/') + 1);
                    link.click();
                });
                
                // Touch event untuk mobile
                downloadBtn.addEventListener('touchend', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    
                    const imgSrc = this.getAttribute('data-src');
                    const link = document.createElement('a');
                    link.href = imgSrc;
                    link.download = imgSrc.substring(imgSrc.lastIndexOf('/') + 1);
                    link.click();
                });
            });

            // Set up click event for each video item
            document.querySelectorAll('.video-item').forEach(item => {
                item.addEventListener('click', function() {
                    // Get video source
                    const videoSrc = this.getAttribute('data-src');
                    
                    // Set video source in modal
                    expandedVideo.src = videoSrc;
                    
                    // Show modal with animation
                    videoModal.style.display = 'flex';
                    
                    // Force reflow to ensure animation plays
                    void videoModal.offsetWidth;
                    
                    // Add active class (triggers animation)
                    videoModal.classList.add('active');
                    
                    // Play video
                    expandedVideo.play();
                });

                // Tambahkan tombol download di bawah setiap video
                const fileSrc = item.getAttribute('data-src');
                const fileExt = fileSrc.split('.').pop().toUpperCase();
                
                // Buat tombol download
                const downloadBtn = document.createElement('button');
                downloadBtn.className = 'download-btn';
                downloadBtn.textContent = `Download ${fileExt}`;
                downloadBtn.setAttribute('data-src', fileSrc);
                
                // Tambahkan ke item video
                item.appendChild(downloadBtn);
                
                // Event listener dengan perbaikan untuk mobile
                downloadBtn.addEventListener('click', function(e) {
                    e.stopPropagation(); // Mencegah modal video terbuka
                    e.preventDefault(); // Mencegah default behavior
                    
                    const videoSrc = this.getAttribute('data-src');
                    const link = document.createElement('a');
                    link.href = videoSrc;
                    link.download = videoSrc.substring(videoSrc.lastIndexOf('/') + 1);
                    link.click();
                });
                
                // Tambahkan touch event untuk mobile
                downloadBtn.addEventListener('touchend', function(e) {
                    e.stopPropagation();
                    e.preventDefault();
                    
                    const videoSrc = this.getAttribute('data-src');
                    const link = document.createElement('a');
                    link.href = videoSrc;
                    link.download = videoSrc.substring(videoSrc.lastIndexOf('/') + 1);
                    link.click();
                });
            });
                // Tambah click download untuk gallery image
                document.querySelectorAll('.gallery-item').forEach(item => {
                    item.addEventListener('contextmenu', function(e) {
                        e.preventDefault();
                        const fileSrc = this.getAttribute('data-src');
                        const link = document.createElement('a');
                        link.href = fileSrc;
                        link.download = fileSrc.substring(fileSrc.lastIndexOf('/') + 1);
                        link.click();
                    });
                });

                /*del kalo ngerusak*/
                document.querySelectorAll('audio source').forEach(source => {
                source.addEventListener('click', function(e) {
                    e.preventDefault();
                    const link = document.createElement('a');
                    link.href = this.src;
                    link.download = this.src.substring(this.src.lastIndexOf('/') + 1);
                    link.click();
                    });
                })
                        
            // Close video modal
// Fungsi untuk animasi menutup modal
function closeModalWithAnimation(modal, callback) {
    // Animasi fade out background
    modal.style.backgroundColor = 'rgba(0, 0, 0, 0)';
    
    // Animasi zoom out content
    const modalContent = modal.querySelector('.modal-content');
    modalContent.style.animation = 'none';
    modalContent.style.transform = 'scale(0.8)';
    modalContent.style.opacity = '0';
    modalContent.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
    
    // Tunggu animasi selesai kemudian lakukan callback
    setTimeout(() => {
        modal.classList.remove('active');
        modal.style.display = 'none';
        
        // Reset style
        modal.style.backgroundColor = '';
        modalContent.style.transform = '';
        modalContent.style.opacity = '';
        modalContent.style.transition = '';
        modalContent.style.animation = '';
        
        // Jalankan callback jika ada
        if (callback) callback();
    }, 300);
}

// Close video modal
closeVideoModal.addEventListener('click', function() {
    closeModalWithAnimation(videoModal, () => {
        expandedVideo.pause();
        expandedVideo.src = '';
    });
});

// Close image modal
closeImageModal.addEventListener('click', function() {
    closeModalWithAnimation(imageModal);
});

// Close modals when clicking outside content
videoModal.addEventListener('click', function(e) {
    if (e.target === videoModal) {
        closeModalWithAnimation(videoModal, () => {
            expandedVideo.pause();
            expandedVideo.src = '';
        });
    }
});

imageModal.addEventListener('click', function(e) {
    if (e.target === imageModal) {
        closeModalWithAnimation(imageModal);
    }
});
            
            // Intersection Observer for lazy loading images
                const lazyLoader = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const element = entry.target;
                        
                        // Check if it's an image placeholder
                        if (element.classList.contains('lazy-image')) {
                            element.style.backgroundImage = `url(${element.dataset.src})`;
                            element.classList.add('loaded');
                            observer.unobserve(element);
                        } else if (element.classList.contains('lazy-video')) {
                            // Create video element for preview
                            const videoPreview = document.createElement('video');
                            videoPreview.className = 'video-preview';
                            videoPreview.src = element.dataset.src;
                            videoPreview.preload = 'metadata';
                            videoPreview.muted = true;
                            videoPreview.loop = true;
                            videoPreview.autoplay = false;
                            
                            // Add video preview to the item
                            element.appendChild(videoPreview);
                            
                            // Keep play icon visible
                            const playIcon = element.querySelector('.play-icon');
                            if (playIcon) {
                                playIcon.style.display = 'flex';
                            }
                            
                            element.classList.add('loaded');
                            observer.unobserve(element);
                        }
                    }
                });
            }, {
                rootMargin: '200px',
                threshold: 0.1
            });
            
            // Observe all lazy-loading elements
            document.querySelectorAll('.lazy-image, .lazy-video').forEach(element => {
                lazyLoader.observe(element);
            });
                       
        });
        document.addEventListener('click', function(e) {
        if (e.target.classList.contains('download-audio-btn')) {
            const audioSrc = e.target.getAttribute('data-src');
            const link = document.createElement('a');
            link.href = audioSrc;
            link.download = audioSrc.substring(audioSrc.lastIndexOf('/') + 1);
            link.click();
        }
});
        document.addEventListener("DOMContentLoaded", function() {
            // Tambahkan judul ke setiap item galeri berdasarkan ekstensi file
            document.querySelectorAll('.gallery-item').forEach(item => {
                const fileSrc = item.getAttribute('data-src');
                const fileExt = fileSrc.split('.').pop().toUpperCase();
                
                // Buat elemen judul
                const infoElement = document.createElement('div');
                infoElement.className = 'gallery-info';
                infoElement.textContent = fileExt;
                
                // Tambahkan ke item galeri
                item.appendChild(infoElement);
                
            });
                // Menangani event pause pada video modal
                const expandedVideo = document.getElementById('expandedVideo');
                if (expandedVideo) {
                    expandedVideo.addEventListener('pause', function() {
                        // Video di-pause, kita biarkan dalam keadaan pause
                        this.loop = false;
                    });
                    
                    expandedVideo.addEventListener('play', function() {
                        // Video diputar kembali, aktifkan loop
                        this.loop = true;
                    });
                }
                
                // Menerapkan hal yang sama untuk semua audio
                document.querySelectorAll('audio').forEach(audio => {
                    audio.addEventListener('pause', function() {
                        this.loop = false;
                    });
                    
                    audio.addEventListener('play', function() {
                        this.loop = true;
                    });
                    
                    const source = audio.querySelector('source');
                    if (source) {
                        const audioSrc = source.getAttribute('src');
                        const fileExt = audioSrc.split('.').pop().toUpperCase();
                        
                        // Buat tombol download
                        const downloadBtn = document.createElement('button');
                        downloadBtn.className = 'download-audio-btn';
                        downloadBtn.textContent = `Download ${fileExt}`;
                        downloadBtn.setAttribute('data-src', audioSrc);
                        
                        // Sisipkan tombol setelah elemen audio
                        audio.parentNode.insertBefore(downloadBtn, audio.nextSibling);
                        
                        // Event listener dengan perbaikan untuk mobile
                        downloadBtn.addEventListener('click', function(e) {
                            e.preventDefault();
                            
                            const audioSrc = this.getAttribute('data-src');
                            const link = document.createElement('a');
                            link.href = audioSrc;
                            link.download = audioSrc.substring(audioSrc.lastIndexOf('/') + 1);
                            link.click();
                        });
                        
                        // Touch event untuk mobile
                        downloadBtn.addEventListener('touchend', function(e) {
                            e.preventDefault();
                            
                            const audioSrc = this.getAttribute('data-src');
                            const link = document.createElement('a');
                            link.href = audioSrc;
                            link.download = audioSrc.substring(audioSrc.lastIndexOf('/') + 1);
                            link.click();
                        });
                    }
                                    
                });
                    });
        
                // Deteksi iOS
            function isIOS() {
                return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            }

            // Modifikasi fungsi download untuk iOS
            function handleDownload(fileUrl, fileName) {
                // Jika iOS, beri tahu pengguna untuk menyimpan manual
                if (isIOS()) {
                    // Buka file di tab baru, pengguna bisa menyimpan dari sana
                    window.open(fileUrl, '_blank');
                    alert('Pada iOS: Tekan dan tahan file, lalu pilih "Simpan" untuk mendownload');
                } else {
                    // Metode download normal untuk browser lain
                    const link = document.createElement('a');
                    link.href = fileUrl;
                    link.download = fileName;
                    link.click();
                }
            }

            // Kemudian gunakan fungsi handleDownload di semua event listener download
            // Contoh: ganti kode di event listener tombol download 
            downloadBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                e.preventDefault();
                
                const fileSrc = this.getAttribute('data-src');
                const fileName = fileSrc.substring(fileSrc.lastIndexOf('/') + 1);
                handleDownload(fileSrc, fileName);
            });
    </script>
</body>
</html>